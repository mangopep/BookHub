# BookHub Environment Variables
# Copy this file to .env and fill in your values

# ========================================
# REQUIRED - These 2 variables are CRITICAL
# ========================================

# JWT Secret - Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# MUST be at least 32 characters long
JWT_SECRET=your-super-secret-jwt-key-minimum-32-characters-long-change-this

# MongoDB Database - Get from MongoDB Atlas (free at mongodb.com/cloud/atlas)
# Format: mongodb+srv://username:password@cluster.mongodb.net/bookhub
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/bookhub

# ========================================
# OPTIONAL - Platform usually sets these
# ========================================

# Environment type
NODE_ENV=production

# Server port (Railway/Heroku set this automatically)
# PORT=5000

# ========================================
# QUICK SETUP EXAMPLES
# ========================================

# Local Development Example:
# JWT_SECRET=local-dev-secret-key-minimum-32-characters-long-example
# MONGODB_URI=mongodb://localhost:27017/bookhub
# NODE_ENV=development

# Railway/Heroku Production Example:
# JWT_SECRET=prod-secret-key-generated-with-crypto-random-bytes-64-hex
# MONGODB_URI=mongodb+srv://user:password@cluster.mongodb.net/bookhub
# NODE_ENV=production

# ========================================
# SETUP STEPS
# ========================================

# 1. Copy this file: cp .env.template .env
# 2. Generate JWT secret: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# 3. Create MongoDB Atlas database (free): https://mongodb.com/cloud/atlas
# 4. Get connection string from Atlas and replace username/password
# 5. Deploy to Railway: https://railway.app (connects to GitHub automatically)

# ========================================
# SECURITY NOTES
# ========================================

# - NEVER commit .env file to git (already in .gitignore)
# - Use different secrets for development/production
# - MongoDB Atlas: whitelist IP 0.0.0.0/0 for cloud deployment
# - Railway/Heroku: set variables in platform dashboard, not .env file

# Session Secret (for session-based authentication if used)
SESSION_SECRET=another-super-secret-key-for-sessions-minimum-32-chars

# Rate Limiting (requests per window)
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW_MS=900000

# ================================
# MONITORING & METRICS
# ================================

# Enable/disable metrics collection (true/false)
ENABLE_METRICS=true

# Prometheus metrics port (default: 9090)
METRICS_PORT=9090

# ================================
# GRAFANA CONFIGURATION
# (Only needed for all-in-one Docker deployment)
# ================================

# Grafana Admin Password
# If not set, a random password will be generated
GF_SECURITY_ADMIN_PASSWORD=secure-grafana-admin-password

# Grafana Server Port (default: 3001)
GF_SERVER_HTTP_PORT=3001

# Disable Grafana user signup (recommended: false)
GF_USERS_ALLOW_SIGN_UP=false

# Grafana Server Domain (for production)
# GF_SERVER_DOMAIN=yourdomain.com

# ================================
# EMAIL CONFIGURATION (Optional)
# ================================

# Email service for notifications (if implemented)
# EMAIL_SERVICE=gmail
# EMAIL_HOST=smtp.gmail.com
# EMAIL_PORT=587
# EMAIL_USER=your-email@gmail.com
# EMAIL_PASS=your-app-password
# EMAIL_FROM=noreply@yourdomain.com

# ================================
# PAYMENT INTEGRATION (Optional)
# ================================

# Stripe Configuration (if payment is enabled)
# STRIPE_PUBLIC_KEY=pk_test_...
# STRIPE_SECRET_KEY=sk_test_...
# STRIPE_WEBHOOK_SECRET=whsec_...

# ================================
# EXTERNAL SERVICES (Optional)
# ================================

# Redis Cache (for session storage and caching)
# REDIS_URL=redis://localhost:6379
# REDIS_PASSWORD=your-redis-password

# File Storage (AWS S3, Cloudinary, etc.)
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# AWS_REGION=us-east-1
# AWS_S3_BUCKET=your-s3-bucket-name

# Cloudinary (for image uploads)
# CLOUDINARY_CLOUD_NAME=your-cloud-name
# CLOUDINARY_API_KEY=your-api-key
# CLOUDINARY_API_SECRET=your-api-secret

# ================================
# LOGGING & ERROR TRACKING
# ================================

# Log Level (error, warn, info, debug)
LOG_LEVEL=info

# Sentry Error Tracking
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# ================================
# DEVELOPMENT CONFIGURATION
# ================================

# Development Database (separate from production)
# DEV_MONGODB_URI=mongodb://localhost:27017/bookhub_dev

# Enable debug logging in development
# DEBUG=express:*,socket.io:*

# Hot Reload (automatically set by npm run dev)
# HOT_RELOAD=true

# ================================
# TESTING CONFIGURATION
# ================================

# Test Database
# TEST_MONGODB_URI=mongodb://localhost:27017/bookhub_test

# Test JWT Secret
# TEST_JWT_SECRET=test-secret-key-for-testing-minimum-32-characters

# ================================
# PLATFORM-SPECIFIC VARIABLES
# ================================

# Railway Platform
# RAILWAY_ENVIRONMENT_NAME=production
# RAILWAY_SERVICE_NAME=bookhub

# Heroku Platform
# HEROKU_APP_NAME=your-heroku-app-name

# Vercel Platform
# VERCEL_ENV=production
# VERCEL_URL=your-app.vercel.app

# DigitalOcean App Platform
# DO_APP_NAME=bookhub

# ================================
# SSL/TLS CONFIGURATION
# ================================

# Force HTTPS in production (true/false)
FORCE_HTTPS=false

# SSL Certificate paths (if using custom certificates)
# SSL_CERT_PATH=/path/to/certificate.pem
# SSL_KEY_PATH=/path/to/private-key.pem

# ================================
# BACKUP CONFIGURATION
# ================================

# Database Backup Settings
# BACKUP_ENABLED=true
# BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
# BACKUP_RETENTION_DAYS=30

# ================================
# ANALYTICS & TRACKING
# ================================

# Google Analytics
# GA_TRACKING_ID=GA-XXXXXXXXX-X

# Application Insights (Azure)
# APPLICATIONINSIGHTS_CONNECTION_STRING=your-connection-string

# ================================
# FEATURE FLAGS
# ================================

# Enable/disable features
# ENABLE_WEBSOCKETS=true
# ENABLE_API_DOCS=true
# ENABLE_ADMIN_PANEL=true
# ENABLE_USER_REGISTRATION=true

# ================================
# QUICK SETUP EXAMPLES
# ================================

# Example for Local Development:
# NODE_ENV=development
# PORT=5000
# JWT_SECRET=local-dev-secret-key-minimum-32-characters-long
# MONGODB_URI=mongodb://localhost:27017/bookhub

# Example for Railway Production:
# NODE_ENV=production
# JWT_SECRET=railway-prod-secret-key-minimum-32-characters-long
# MONGODB_URI=mongodb+srv://user:pass@cluster.mongodb.net/bookhub

# Example for Heroku Production:
# NODE_ENV=production
# JWT_SECRET=heroku-prod-secret-key-minimum-32-characters-long
# MONGODB_URI=mongodb+srv://user:pass@cluster.mongodb.net/bookhub