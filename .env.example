# ===============================================
# BOOKHUB ENVIRONMENT CONFIGURATION
# ===============================================
# This file contains all environment variables needed to run BookHub
# Copy this file to .env and fill in your actual values
#
# QUICK START:
# 1. Copy this file: cp .env.example .env
# 2. Set JWT_SECRET (required)
# 3. Optionally set MONGODB_URI for persistence
# 4. Run: npm run dev
#
# The application works out-of-the-box with just JWT_SECRET!
# ===============================================

# -----------------------------------------------
# REQUIRED: Authentication
# -----------------------------------------------
# JWT Secret for Authentication
# This is the ONLY required environment variable
# Generate a secure secret: openssl rand -base64 32
# IMPORTANT: Keep this secret and never share it publicly
JWT_SECRET=my-super-secret-jwt-key-12345

# -----------------------------------------------
# OPTIONAL: Database Configuration
# -----------------------------------------------
# MongoDB Connection String
# Get a free cluster from MongoDB Atlas: https://cloud.mongodb.com/
# 
# If NOT set: App uses in-memory storage (data resets on restart)
# If SET: App uses MongoDB for persistent storage
#
# Format: mongodb+srv://username:password@cluster.mongodb.net/?appName=YourApp
# Example: mongodb+srv://admin:mypassword@cluster0.abc123.mongodb.net/?appName=BookHub
#
MONGODB_URI=mongodb+srv://abc:abc@cluster0.fvqdxbi.mongodb.net/?appName=Cluster0

# -----------------------------------------------
# OPTIONAL: Server Configuration
# -----------------------------------------------
# Server Port (default: 5000)
# Most platforms auto-set this (Replit, Railway, Heroku, etc.)
# Only change if you have port conflicts locally
PORT=5001

# Node Environment (default: development)
# Set to 'production' when deploying
# Platforms usually auto-set this
NODE_ENV=development

# -----------------------------------------------
# OPTIONAL: API Documentation URL
# -----------------------------------------------
# API Base URL for Swagger Documentation
# The app auto-detects the correct URL in most cases
#
# Auto-detection priority:
# 1. API_BASE_URL (if set) - Manual override
# 2. REPLIT_DEV_DOMAIN - Replit development (auto-set by Replit)
# 3. REPL_SLUG + REPL_OWNER - Fallback Replit detection (auto-set by Replit)
# 4. PRODUCTION_URL or CLIENT_URL - Production environment
# 5. http://localhost:PORT - Local development fallback
#
# Only set this if auto-detection fails or you need a custom URL
# Examples:
#   Local:        http://localhost:5000
#   Production:   https://api.yourdomain.com
#
API_BASE_URL=http://localhost:5001

# -----------------------------------------------
# OPTIONAL: Production Deployment
# -----------------------------------------------
# Production URL
# Used when NODE_ENV=production and not on Replit
# Set this to your production domain
#
# Examples:
#   Railway:      https://bookhub.railway.app
#   Vercel:       https://bookhub.vercel.app
#   Custom:       https://api.yourbusiness.com
#
# PRODUCTION_URL=

# Client URL (alternative to PRODUCTION_URL)
# Some platforms use CLIENT_URL instead
# CLIENT_URL=

# -----------------------------------------------
# PLATFORM-SPECIFIC (Auto-set by platforms)
# -----------------------------------------------
# These are automatically set by various platforms
# You don't need to set these manually

# Replit (auto-set)
# REPLIT_DEV_DOMAIN=
# REPL_ID=
# REPL_SLUG=
# REPL_OWNER=

# Railway (auto-set)
# RAILWAY_PUBLIC_DOMAIN=
# RAILWAY_ENVIRONMENT=

# ===============================================
# ENVIRONMENT-SPECIFIC EXAMPLES
# ===============================================

# --- LOCAL DEVELOPMENT (Windows/Mac/Linux) ---
# Minimum setup:
# JWT_SECRET=your-secret-key-here
#
# With database:
# JWT_SECRET=your-secret-key-here
# MONGODB_URI=mongodb+srv://user:pass@cluster.mongodb.net/?appName=BookHub

# --- REPLIT DEVELOPMENT ---
# Minimum setup (Replit auto-detects everything):
# JWT_SECRET=your-secret-key-here
# MONGODB_URI=mongodb+srv://user:pass@cluster.mongodb.net/?appName=BookHub

# --- PRODUCTION DEPLOYMENT ---
# Full production setup:
# NODE_ENV=production
# JWT_SECRET=super-secure-production-secret-key
# MONGODB_URI=mongodb+srv://user:pass@prod-cluster.mongodb.net/?appName=BookHub
# PRODUCTION_URL=https://bookhub.yourdomain.com

# ===============================================
# SECURITY NOTES
# ===============================================
# ✅ NEVER commit .env files to Git (already in .gitignore)
# ✅ NEVER share your MongoDB connection string publicly
# ✅ NEVER share your JWT_SECRET
# ✅ Use strong, unique secrets in production
# ✅ Rotate secrets periodically
# ✅ Use your platform's secret management for production
# ✅ The .env.example file is safe to commit (no real credentials)
